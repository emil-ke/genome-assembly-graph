# 2023-05-27

Created a new git branch to implement/improve my graph representation. It's way too inefficient to use contig identifiers as vertex identifiers. I need to do some type of hashing to turn the identifier strings to integers values, I said I was going to use HashMap before, but I think that may be to inefficient. The project description also say "Do not bother trying to convey the precise observed distribution and do not list all component sizes or similar."

---

I ran `awk '$7 >= 1000 && $11 >= 1000 { print }' Spruce_fingerprint_2017-03-10_16.48.olp.m4 > filtered_data.m4` this takes all lines which have sufficiently large overlap (the ones we care about), and stores those lines in `filtered_data.m4`.

Then I ran `awk '{ $3=""; $4=""; $5=""; $9=""; print }' filtered_data.m4 > cleaned.m4` which removes the columns which are not needed for our project.

Then I removed the `filtered_data.m4` file. The new `cleaned.m4` file has data like:

```
fp.3.Luci_01A01.ctg.ctg7180000038386 fp.3.Luci_02C06.ctg.ctg7180000060335    6835 7893 28201  0 1058 1058
fp.3.Luci_01A01.ctg.ctg7180000038386 fp.3.Luci_02C06.ctg.ctg7180000085546    3977 6845 28201  0 2883 2883
fp.3.Luci_01A01.ctg.ctg7180000038386 fp.3.Luci_02C06.ctg.ctg7180000085693    7891 13435 28201  0 5544 5544
fp.3.Luci_01A01.ctg.ctg7180000038386 fp.3.Luci_02C06.ctg.ctg7180000087068    13515 28201 28201  2078 16758 16758
fp.3.Luci_01A01.ctg.ctg7180000038386 fp.3.Luci_02D05.ctg.ctg7180000162172    0 6471 28201  71 6555 6555
```

---

When we ignore lines with too small over lap we only removed 14274 lines:

```
❯ wc -l Spruce_fingerprint_2017-03-10_16.48.olp.m4
49354192 Spruce_fingerprint_2017-03-10_16.48.olp.m4
```

and

```
❯ wc -l cleaned.m4
49339918 cleaned.m4
```

and $14272/49354192\approx 0.000289$ so that's didn't do much.

---

Columns and info:

1. Identifier for the first vertex for an edge.
2. Identifier for the second vertex of the edge (with identifier in column 1.)
3. (was 6.) Start of overlap in first contig.
4. (was 7.) End of overlap in first contig.
5. (was 8.) Length of first contig.
6. (was 10.) Start of overlap in second contig.
7. (was 11.) End of overlap in second contig.
8. (was 12.) Length of second contig.
